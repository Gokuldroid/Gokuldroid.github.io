{"componentChunkName":"component---src-components-module-blog-posts-category-index-jsx","path":"/blog/category/blogging","result":{"data":{"posts":{"edges":[{"node":{"excerpt":"Setting up a custom domain for our github pages has lot of benefits but at the same time it requires lot of patience. This article aims toâ€¦","html":"<p>Setting up a custom domain for our github pages has lot of benefits but at the same time it requires lot of patience. This article aims to give a picture about how the entire thing works and step-by-step guide for the same. I am taking my github profile <code class=\"language-text\">Gokuldroid</code> and my custom domain <code class=\"language-text\">codefromdude.com</code> as example here.</p>\n<h4>Reasons on why you need to setup custom domain for your github page:</h4>\n<blockquote>\n<ul>\n<li>The default domain provided by github &#x3C;username.github.io> is not intuitive.</li>\n<li>We will lose all google indexing if we want to move away from github.</li>\n<li>For more personal branding.</li>\n<li>And we're devs and we want problems ;-).</li>\n</ul>\n</blockquote>\n<h4>Prerequisites:</h4>\n<blockquote>\n<ul>\n<li>Github account</li>\n<li>Cloudflare account (github doesn't support SSL termination for custom domains. we can use cloudflare to do the SSL termination for our blog for free)</li>\n<li>A repository (<your-github-username>.github.io) with two files (index.html and CNAME)</li>\n<li>A domain registered in any providers (Ex, Godaddy, Namecheap, Cloudflare etc)</li>\n<li>Bit of patience.</li>\n</ul>\n</blockquote>\n<h4>Setting up your github repository (skip this if you already have site published at <code class=\"language-text\">&lt;github-user-name&gt;.github.io</code>):</h4>\n<ul>\n<li>First you have to create a public repository in this format <code class=\"language-text\">(&lt;github-user-name&gt;.github.io -&gt; gokuldroid.github.io)</code></li>\n<li>\n<p>clone github repo locally using this command and <code class=\"language-text\">cd</code> into the folder and create <code class=\"language-text\">index.html</code> file</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/<span class=\"token operator\">&lt;</span>your-github-username<span class=\"token operator\">></span>/<span class=\"token operator\">&lt;</span>your-github-username<span class=\"token operator\">></span>.github.io\n<span class=\"token builtin class-name\">cd</span> <span class=\"token operator\">&lt;</span>your-github-username<span class=\"token operator\">></span>.github.io\n<span class=\"token function\">touch</span> index.html</code></pre></div>\n</li>\n<li>Add a <code class=\"language-text\">index.html</code> in the root folder </li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>X-UA-Compatible<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>IE=edge<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1.0<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Document<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Hello world<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<ul>\n<li>\n<p>Push the changes to remote</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> <span class=\"token function\">add</span> --all\n<span class=\"token function\">git</span> commit -m <span class=\"token string\">\"Initial commit\"</span>\n<span class=\"token function\">git</span> push -u origin main</code></pre></div>\n</li>\n<li>Fire up a browser and go to <code class=\"language-text\">https://&lt;your-github-username&gt;.github.io</code>. Now you have successfully setup a personal page in github.</li>\n</ul>\n<h4>Setting up domain in cloudflare and github:</h4>\n<ul>\n<li>\n<p>create CNAME file with your custom domain (should be in single line without any spaces. <a href=\"https://github.com/Gokuldroid/Gokuldroid.github.io/blob/master/CNAME\">reference</a>).</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cd &lt;your-repository&gt;\necho &quot;&lt;your-custom-domain&gt;&quot; &gt; CNAME\ngit add --all\ngit commit -m &quot;Add CNAME file&quot;\ngit push -u origin main</code></pre></div>\n</li>\n<li>Go to github profile settings -> Code, planning, and automation -> Pages -> click on <code class=\"language-text\">Add domain</code></li>\n<li>Type your custom domain name -> click <code class=\"language-text\">Add domain</code>. This will take you to the following the page like this. we need this txt record and value for the next step. keep this handy.</li>\n</ul>\n<img src=\"/assets/blog/github-custom-domain/github-add-domain.png\" alt=\"github add domain\" style=\"width:60%\">\n<img src=\"/assets/blog/github-custom-domain/github-txt-record.png\" alt=\"github txt records\" style=\"width:60%\">\n<ul>\n<li>Go to cloudflare -> websites -> Add website -> Type your custom domain -> click on next.\n<img src=\"/assets/blog/github-custom-domain/add-website.png\" alt=\"cloud flare add website\" style=\"width:80%\"></li>\n<li>Select your plan that you need. (you can choose free plan)-> click next.\n<img src=\"/assets/blog/github-custom-domain/select-plan.png\" alt=\"select plan\" style=\"width:70%\"></li>\n<li>Configure DNS records like shown in the below picture or you can simple modify the following (dns-text-records.txt) and import in cloudflare DNS manager (you need to modify custom domain, github username and txt record from the above step).\n<img src=\"/assets/blog/github-custom-domain/review-dns-records.png\" alt=\"dns selection\" style=\"width:100%\"></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"txt\"><pre class=\"language-txt\"><code class=\"language-txt\">A records\n185.199.111.153\n185.199.110.153\n185.199.109.153\n185.199.108.153\n\nAAAA records\n2606:50c0:8003::153\n2606:50c0:8002::153\n2606:50c0:8001::153\n2606:50c0:8000::153</code></pre></div>\n<p>dns-text-records.txt</p>\n<div class=\"gatsby-highlight\" data-language=\"txt\"><pre class=\"language-txt\"><code class=\"language-txt\">&lt;your-custom-domain&gt;\t3600\tIN\tSOA\t&lt;your-custom-domain&gt; root.&lt;your-custom-domain&gt; 2041457699 7200 3600 86400 3600\n\n;; A Records\n&lt;your-custom-domain&gt;.\t1\tIN\tA\t185.199.111.153\n&lt;your-custom-domain&gt;.\t1\tIN\tA\t185.199.110.153\n&lt;your-custom-domain&gt;.\t1\tIN\tA\t185.199.109.153\n&lt;your-custom-domain&gt;.\t1\tIN\tA\t185.199.108.153\n\n;; AAAA Records\n&lt;your-custom-domain&gt;.\t1\tIN\tAAAA\t2606:50c0:8003::153\n&lt;your-custom-domain&gt;.\t1\tIN\tAAAA\t2606:50c0:8002::153\n&lt;your-custom-domain&gt;.\t1\tIN\tAAAA\t2606:50c0:8001::153\n&lt;your-custom-domain&gt;.\t1\tIN\tAAAA\t2606:50c0:8000::153\n\n;; CNAME Records\nwww.&lt;your-custom-domain&gt;.\t1\tIN\tCNAME\t&lt;your-github-username&gt;.github.io.\n\n;; TXT Records\n_github-pages-challenge-&lt;your-github-username&gt;.&lt;your-custom-domain&gt;.\t1\tIN\tTXT\t&quot;&lt;text-record-from-github-domains&gt;&quot;</code></pre></div>\n<ul>\n<li>Copy the name servers in cloudflare and Configure it in your domain provider. (For example I am using godaddy for my site). Once you configure this DNS will be manged by cloudflare. This is critical since all the above configuration won't work if you miss this step. </li>\n</ul>\n<blockquote>\n<p>This will take few hours to take effect.</p>\n</blockquote>\n<img src=\"/assets/blog/github-custom-domain/change-nameservers.png\" alt=\"cloudflare verification\" style=\"width:100%\">\n<p>-</p>\n<img src=\"/assets/blog/github-custom-domain/godaddy-nameserver.png\" alt=\"godaddy name server\" style=\"width:60%\"> \n<ul>\n<li>once the nameserver changes got propagated, you can verify the same in cloudflare console. once you verified, the site will be active in cloud flare. till now we have configured the domain provider and cloudflare.\n<img src=\"/assets/blog/github-custom-domain/site-overview.png\" alt=\"site active\" style=\"width:60%\"></li>\n<li>Now, head back to github and verify the domain in your profile settings. If not able to do this, wait for sometime for the cloudflare changes to propagate.\n<img src=\"/assets/blog/github-custom-domain/github-txt-record.png\" alt=\"github domain verification\" style=\"width:60%\"></li>\n<li>Once you verified the domain in github, configure the same in github repository settings under custom domains settings.\n<img src=\"/assets/blog/github-custom-domain/github-pages-settings.png\" alt=\"\" style=\"width:80%\"></li>\n<li>Congratulations, now your github site will be serving with your custom domain. you can enable HTTPS settings in cloudflare and github repository settings to serve HTTPS by default.</li>\n</ul>","timeToRead":4,"frontmatter":{"title":"Setting up github custom domain","date":"2022-09-11T12:30:34.813Z","tags":["git","blogging","cloudflare","github custom domain","how to setup github custom domain?"],"render_in_place":null,"path":"github-custom-domain"}}}]},"categories":{"group":[{"name":"android","count":1},{"name":"blogging","count":1},{"name":"cmdline","count":1},{"name":"database","count":1},{"name":"java","count":2},{"name":"personal","count":1},{"name":"productivity","count":4},{"name":"programming","count":4},{"name":"today I learned","count":1},{"name":"tools","count":1}]}},"pageContext":{"category":"blogging","skip":0,"limit":5,"currentPage":1,"humanPageNumber":1,"numberOfPages":1}},"staticQueryHashes":["3128451518"]}